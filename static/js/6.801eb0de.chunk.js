(this.webpackJsonplesson4=this.webpackJsonplesson4||[]).push([[6],{231:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8);function o(e,t){if(null==e)return{};var n,o,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},235:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),o=n(34),a=n(35),s=n(37),i=n(36),u=n(0),c=n.n(u),l=n(16),f=n(6),p=n(2),d=function(e){return{isAuth:e.auth.isAuth}},g=function(e){var t=function(t){Object(s.a)(u,t);var n=Object(i.a)(u);function u(){return Object(o.a)(this,u),n.apply(this,arguments)}return Object(a.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(e,Object(r.a)({},this.props)):Object(p.jsx)(f.a,{to:"/login"})}}]),u}(c.a.Component);return Object(l.b)(d)(t)}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},305:function(e,t,n){e.exports={userItem:"usersItem_userItem__DAP0f",leftBlock:"usersItem_leftBlock__gMr_4",avatar:"usersItem_avatar__2e7Ay",rightBlock:"usersItem_rightBlock__JazP6",usersInfo:"usersItem_usersInfo__3LAD8",pageNumber:"usersItem_pageNumber__Fxcpz",active:"usersItem_active__fuQ5Q",item:"usersItem_item__1TV_m",activePage:"usersItem_activePage__2lkqX"}},306:function(e,t,n){e.exports={pageNumber:"paginator_pageNumber__1MF_C",activePage:"paginator_activePage__1X4uv"}},311:function(e,t,n){"use strict";n.r(t);var r=n(34),o=n(35),a=n(37),s=n(36),i=n(0),u=n.n(i),c=n(16),l=n(80),f=n(231),p=n(305),d=n.n(p),g=(n(86),n.p+"static/media/noPhoto.234a783b.jpg"),j=n(18),b=n(2),h=["user","followLoading","unfollow","follow"],v=function(e){var t=e.user,n=e.followLoading,r=e.unfollow,o=e.follow;Object(f.a)(e,h);return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:d.a.userItem,children:[Object(b.jsxs)("div",{className:d.a.leftBlock,children:[Object(b.jsx)("div",{className:d.a.avatar,children:Object(b.jsx)(j.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:g,alt:""})})}),Object(b.jsx)("div",{className:d.a.followButton,children:t.followed?Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)},children:"Follow"})})]}),Object(b.jsxs)("div",{className:d.a.rightBlock,children:[Object(b.jsxs)("div",{className:d.a.usersInfo,children:[Object(b.jsx)("div",{className:d.a.name,children:t.name}),Object(b.jsx)("div",{className:d.a.status,children:t.status})]}),Object(b.jsxs)("div",{className:d.a.location,children:[Object(b.jsx)("div",{children:"u.location.country"}),Object(b.jsx)("div",{children:"u.location.city"})]})]})]})})},m=n(53),O=n(235),w=n(22);function y(e,t){return e===t}function _(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function x(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var P=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),i=x(r),u=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),c=e((function(){for(var e=[],t=i.length,n=0;n<t;n++)e.push(i[n].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=s,c.dependencies=i,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=null,r=null;return function(){return _(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var C=P((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),I=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalUsersCount},k=function(e){return e.usersPage.currentPage},N=function(e){return e.usersPage.isLoading},L=function(e){return e.usersPage.followLoading},z=n(242),A=n(306),U=n.n(A),B=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.onPageChanged,o=e.currentPage,a=e.portionSize,s=void 0===a?10:a,u=Math.ceil(t/n),c=[],l=1;l<=u;l++)c.push(l);var f=Math.ceil(u/s),p=Object(i.useState)(1),d=Object(z.a)(p,2),g=d[0],j=d[1],h=(g-1)*s+1,v=g*s;return Object(b.jsxs)("div",{className:U.a.pageNumber,children:[g>1&&Object(b.jsx)("button",{onClick:function(){j(g-1)},children:"Previous"}),c.filter((function(e){return e>=h&&e<=v})).map((function(e){return Object(b.jsx)("span",{className:o===e&&U.a.activePage,onClick:function(){r(e)},children:e})})),f>g&&Object(b.jsx)("button",{onClick:function(){j(g+1)},children:"Next"})]})},F=["currentPage","totalUsersCount","pageSize","onPageChanged","followLoading","follow","unfollow","users"],M=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,o=e.onPageChanged,a=e.followLoading,s=e.follow,i=e.unfollow,u=e.users;Object(f.a)(e,F);return Object(b.jsxs)("div",{children:[u.map((function(e){return Object(b.jsx)(v,{user:e,followLoading:a,unfollow:i,follow:s},e.id)})),Object(b.jsx)(B,{currentPage:t,onPageChanged:o,pageSize:r,totalItemsCount:n})]})},D=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isLoading?Object(b.jsx)(m.a,{}):null,Object(b.jsx)(M,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followLoading:this.props.followLoading})]})}}]),n}(u.a.Component);t.default=Object(w.d)(Object(c.b)((function(e){return{users:C(e),pageSize:I(e),totalUsersCount:S(e),currentPage:k(e),isLoading:N(e),followLoading:L(e)}}),{follow:l.b,unfollow:l.f,setCurrentPage:l.d,setFollowLoading:l.e,getUsers:l.c}),O.a)(D)}}]);
//# sourceMappingURL=6.801eb0de.chunk.js.map